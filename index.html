<!DOCTYPE html>
<html>
<head>
    <title>–ì–æ–ª–æ—Å–æ–≤–∞—è –ö–Ω–æ–ø–∫–∞</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; background: #f5f5f5; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        
        /* –ö–Ω–æ–ø–∫–∏ —Ä–æ–ª–µ–π */
        .role-btn {
            display: block; width: 100%; padding: 25px; margin: 15px 0;
            font-size: 22px; border: none; border-radius: 12px; cursor: pointer;
            color: white; font-weight: bold; transition: all 0.3s;
        }
        #senderBtn { background: linear-gradient(135deg, #3498db, #2980b9); }
        #receiverBtn { background: linear-gradient(135deg, #2ecc71, #27ae60); }
        
        /* –°–∫—Ä—ã—Ç—ã–µ –±–ª–æ–∫–∏ */
        .hidden { display: none; }
        
        /* –°—Ç–∞—Ç—É—Å—ã */
        .status-box {
            padding: 15px; margin: 20px 0; border-radius: 10px;
            background: #ecf0f1; border-left: 5px solid #3498db;
            text-align: left;
        }
        
        /* –ö–Ω–æ–ø–∫–∏ –∑–≤—É–∫–æ–≤ */
        .sound-btn {
            padding: 15px; margin: 8px; width: 45%;
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white; border: none; border-radius: 8px;
            cursor: pointer; font-size: 16px;
        }
        
        /* –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ */
        #sendButton {
            padding: 25px 40px; font-size: 24px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white; border: none; border-radius: 50%;
            width: 120px; height: 120px; margin: 25px auto;
            cursor: pointer; display: block;
        }
        
        /* –ê—É–¥–∏–æ –ø–ª–µ–µ—Ä */
        audio { width: 100%; margin: 15px 0; border-radius: 10px; }
        
        /* –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–æ–∫–µ–Ω—É */
        .token-instruction {
            background: #fff3cd; padding: 20px; border-radius: 10px;
            margin: 20px 0; border: 2px dashed #ffc107;
            text-align: left;
        }
        
        /* –ü–æ–ª–µ –≤–≤–æ–¥–∞ */
        input {
            padding: 15px; width: 80%; font-size: 18px;
            border: 2px solid #ddd; border-radius: 8px;
            margin: 10px 0;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è */
        .connect-btn {
            padding: 15px 30px; background: #2ecc71;
            color: white; border: none; border-radius: 8px;
            font-size: 18px; margin: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîä –ì–æ–ª–æ—Å–æ–≤–∞—è –ö–Ω–æ–ø–∫–∞ —á–µ—Ä–µ–∑ GitHub</h1>
        <p>–†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ GitHub Gist API</p>
        
        <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä —Ä–æ–ª–∏ -->
        <div id="step1">
            <h2>–®–∞–≥ 1: –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å</h2>
            <button class="role-btn" onclick="selectRole('sender')" id="senderBtn">
                üì§ –û–¢–ü–†–ê–í–ò–¢–ï–õ–¨<br>
                <small>(–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≥–æ–ª–æ—Å)</small>
            </button>
            
            <button class="role-btn" onclick="selectRole('receiver')" id="receiverBtn">
                üì• –ü–†–ò–Å–ú–ù–ò–ö<br>
                <small>(–¢–æ–ª—å–∫–æ —Å–ª—É—à–∞–µ—Ç)</small>
            </button>
        </div>
        
        <!-- –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ -->
        <div id="step2" class="hidden">
            <h2>–®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ GitHub Token</h2>
            <div class="token-instruction">
                <h3>‚úÖ –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω:</h3>
                <ol>
                    <li><strong>–û—Ç–∫—Ä–æ–π—Ç–µ</strong> <a href="https://github.com/settings/tokens" target="_blank" style="color: #0366d6; text-decoration: underline;">GitHub Tokens</a></li>
                    <li><strong>–ù–∞–∂–º–∏—Ç–µ</strong> "Generate new token" ‚Üí "Generate new token (classic)"</li>
                    <li><strong>–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ</strong>: "Sound Button App"</li>
                    <li><strong>–û—Ç–º–µ—Ç—å—Ç–µ —Ç–æ–ª—å–∫–æ</strong>: <code>‚úì gist</code> (–≥–∞–ª–æ—á–∫–∞)</li>
                    <li><strong>–ù–∞–∂–º–∏—Ç–µ</strong> "Generate token" –≤–Ω–∏–∑—É</li>
                    <li><strong>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ</strong> —Ç–æ–∫–µ–Ω (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å <code>ghp_</code>)</li>
                </ol>
                <p style="color: #d73a49; font-weight: bold;">‚ö†Ô∏è –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω! –û–Ω –ø–æ–∫–∞–∂–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.</p>
            </div>
            
            <h3>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω:</h3>
            <input type="text" id="githubToken" placeholder="ghp_abc123..." style="font-family: monospace;">
            <br>
            <input type="text" id="roomCode" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: myroom123)" value="soundroom1">
            <br><br>
            <button class="connect-btn" onclick="saveToken()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω</button>
            <p id="tokenStatus" style="color: #666; margin-top: 10px;"></p>
        </div>
        
        <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è -->
        <div id="senderInterface" class="hidden">
            <div class="status-box">
                <strong>üì§ –†–ï–ñ–ò–ú –û–¢–ü–†–ê–í–ò–¢–ï–õ–Ø</strong><br>
                –ö–æ–º–Ω–∞—Ç–∞: <span id="senderRoom">soundroom1</span><br>
                –°—Ç–∞—Ç—É—Å: <span id="senderStatus">–ú–∏–∫—Ä–æ—Ñ–æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω</span>
            </div>
            
            <h3>üé§ –ó–∞–ø–∏—Å—å –≥–æ–ª–æ—Å–∞:</h3>
            <button id="recordBtn" onclick="startRecording()" style="padding: 20px; background: #e74c3c; color: white; border: none; border-radius: 10px; font-size: 18px;">
                üî¥ –ù–ê–ñ–ú–ò–¢–ï –î–õ–Ø –ó–ê–ü–ò–°–ò
            </button>
            <button id="stopBtn" onclick="stopRecording()" class="hidden" style="padding: 20px; background: #e67e22; color: white; border: none; border-radius: 10px; font-size: 18px;">
                ‚èπÔ∏è –û–°–¢–ê–ù–û–í–ò–¢–¨
            </button>
            
            <div id="recordingStatus" style="margin: 15px; padding: 10px; background: #ffeaa7; border-radius: 8px;"></div>
            
            <h3>üîä –¢–µ—Å—Ç–æ–≤—ã–µ –∑–≤—É–∫–∏:</h3>
            <div>
                <button class="sound-btn" onclick="playTestSound('bell')">üîî –ó–≤–æ–Ω–æ–∫</button>
                <button class="sound-btn" onclick="playTestSound('alert')">üö® –¢—Ä–µ–≤–æ–≥–∞</button>
                <button class="sound-btn" onclick="playTestSound('message')">üì¨ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</button>
            </div>
            
            <audio id="previewAudio" controls style="margin-top: 20px;"></audio>
            
            <div style="margin-top: 30px; padding: 15px; background: #d6eaf8; border-radius: 10px;">
                <strong>‚ÑπÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong><br>
                1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω<br>
                2. –û—Ç–ø—É—Å—Ç–∏—Ç–µ –∫–Ω–æ–ø–∫—É - –∑–∞–ø–∏—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è<br>
                3. –ü—Ä–∏—ë–º–Ω–∏–∫ –ø–æ–ª—É—á–∏—Ç –µ—ë —á–µ—Ä–µ–∑ 5-10 —Å–µ–∫—É–Ω–¥
            </div>
        </div>
        
        <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ü—Ä–∏—ë–º–Ω–∏–∫–∞ -->
        <div id="receiverInterface" class="hidden">
            <div class="status-box">
                <strong>üì• –†–ï–ñ–ò–ú –ü–†–ò–Å–ú–ù–ò–ö–ê</strong><br>
                –ö–æ–º–Ω–∞—Ç–∞: <span id="receiverRoom">soundroom1</span><br>
                –°—Ç–∞—Ç—É—Å: <span id="receiverStatus">–û–∂–∏–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π...</span>
            </div>
            
            <h3>üì¢ –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:</h3>
            <audio id="receivedAudio" controls autoplay></audio>
            <div id="lastMessageTime" style="color: #666; margin: 10px;"></div>
            
            <div id="messageHistory" style="text-align: left; margin: 20px 0; max-height: 300px; overflow-y: auto;"></div>
            
            <div style="margin-top: 30px; padding: 15px; background: #d5f4e6; border-radius: 10px;">
                <strong>‚úÖ –†–µ–∂–∏–º –ø—Ä–∏—ë–º–Ω–∏–∫–∞:</strong><br>
                ‚Ä¢ –ú–∏–∫—Ä–æ—Ñ–æ–Ω <strong>–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è</strong><br>
                ‚Ä¢ –î–∏–Ω–∞–º–∏–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è<br>
                ‚Ä¢ –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
            </div>
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–µ –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–≤—É–∫–æ–≤ -->
    <audio id="sound-bell" src="https://assets.mixkit.co/sfx/preview/mixkit-bell-notification-933.mp3"></audio>
    <audio id="sound-alert" src="https://assets.mixkit.co/sfx/preview/mixkit-retro-game-emergency-alarm-1000.mp3"></audio>
    <audio id="sound-message" src="https://assets.mixkit.co/sfx/preview/mixkit-message-pop-alert-2354.mp3"></audio>

    <script src="script.js"></script>
</body>
</html>
